<form class="form-horizontal form-complex">

    <div class="control-group">
        <hr><H3>Slack connect settings</H3><hr>
        <div class="controls">
            <span class="help-block" style="display: block; position: static; width: auto; margin-left: 0;">
               The fields below can be used to overwrite the default values entered during setup. These fields are optional.
            </span>
        </div>

        <label class="control-label" for="slackalert_url">URL</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.url" id="slackalert_url" />
        </div>
        <div class="controls">
            <span class="help-block" style="display: block; position: static; width: auto; margin-left: 0;">
                In order to obtain the Webhook URL you have to create a new incoming webhook integration for you Slack instance.
                See <a target=_blank href="https://api.slack.com/incoming-webhooks">Incoming Webhooks Docs</a> for details.
                Just enter the base URL in this field, the token should be entered in the next field
            </span>
        </div>

        <label class="control-label" for="slackalert_hooktoken">Hooktoken</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.hooktoken" id="slackalert_hooktoken" />
            <span class="help-block">Hook token for your community</span>
        </div>

        <label class="control-label" for="slackalert_proxy">Proxy</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.proxy" id="slackalert_proxy" />
            <span class="help-block">http[s]://[user[:pass]@]proxy[:port]</span>
        </div>
    </div>

    <div class="control-group">
        <hr><H3>Mandatory settings</H3><hr>
        <label class="control-label" for="slackalert_severity_fld">Severity Field</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.severity_fld" id="slackalert_severity_fld" />*
        </div>
        <div class="controls">
            <span class="help-block" style="display: block; position: static; width: auto; margin-left: 0;">
                Enter the fieldname from the search results that contains the alert type. Defaults to field name <code style="color:#333">severity</code>.
		Please ensure that the chosen fieldname exists in the search results.
            </span>
        </div>

        <label class="control-label" for="slackalert_message_fld">Message Field</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.message_fld" id="slack_message_fld"/>
        </div>
        <div class="controls">
            <span class="help-block" style="display: block; position: static; width: auto; margin-left: 0;">
                Specify the field that contains the alert message OR
            </span>
        </div>

        <label class="control-label" for="slackalert_message">Message</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.message" id="slack_message"/>
        </div>
        <div class="controls">
            <span class="help-block" style="display: block; position: static; width: auto; margin-left: 0;">
                Construct the message. The message can contain Splunk tokens (i.e. <code style="color:#333">$name$</code>)
                or field macros (i.e. <code style="color:#333">{fieldname}</code>). Splunk tokens will be expanded by Splunk and field macros are expanded by the
		slackalert script. If a Message Field is specified, it will have precedence over the composed message.
		<BR><BR>
		If neither message field nor message is specified, it will default to message field name <code style="color:#333">message</code>.
            </span>
        </div>
    </div>

    <div class="control-group">
        <hr><H3>Optional settings</H3><hr>
        <label class="control-label" for="slackalert_channel">channel</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.channel" id="slackalert_channel" />
        </div>
        <div class="controls">
            <span class="help-block" style="display: block; position: static; width: auto; margin-left: 0;">
                Can start with # (channel) or @ (person). Prefix defaults to # if omitted.
                Channel defaults to the channel configured for the webhook you use.
                If the channel starts with an @, the user will receive the message in the <code style="color:#333">Slackbot</code> channel.
            </span>
            <span class="help-block"></span>
        </div>
    </div>

    <div class="control-group">
        <hr><H3>Severity color settings</H3><hr>
        <label class="control-label" for="slackalert_severity_default">default</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.severity_default" id="slackalert_severity_default" />
        </div>
        <div class="controls">
            <span class="help-block" style="display: block; position: static; width: auto; margin-left: 0;">
                The default severity color (HTML color name, rgb(r,g,b) format or HEX format)
            </span>
        </div>
        <label class="control-label" for="slackalert_severity_list">severity colors</label>
        <div class="controls">
            <textarea rows=5 name="action.slackalert.param.severity_list" id="slackalert_severity_list"></textarea>
        </div>
        <div class="controls">
            <span class="help-block" style="display: block; position: static; width: auto; margin-left: 0;">
                JSON notation for color per severity (HTML color name, rgb(r,g,b) format or HEX format) For example: <code style="color:#333">{ "CRIT": "#FF0000", "WARN": "orange" }</code>
            </span>
        </div>
    </div>

    <div class="control-group">
        <hr><H3>Additional fields</H3><hr>
        <label class="control-label" for="slackalert_additional_fields">Fields</label>
        <div class="controls">
            <textarea rows=5 name="action.slackalert.param.additional_fields" id="slackalert_additional_fields"></textarea>
        </div>
        <div class="controls">
            <span class="help-block" style="display: block; position: static; width: auto; margin-left: 0;">
                Add additional fields you want to add in the alert. Use JSON notation to define fields and their values.
                The value can be a direct string, a Splunk token (i.e. <code style="color:#333">$result.fieldname$</code>)
                or a field macro (i.e. <code style="color:#333">{fieldname}</code>).
                <BR>Example:<BR><code style="color:#333">{ "Field header 1": "Fixed value",<BR>"Field header 2": "$result.fieldname$",<BR>"Field header 3": "{fieldname}" }</code>
                <BR>The value for Field header 2 will be replaced by Splunk.
                <BR>The value for Field header 3 will be replaced by the slackalert script for each result that is returned.
            </span>
        </div>
    </div>

    <div class="control-group">
        <hr><H3>Message format settings</H3><hr>
        <div class="controls">
            <span class="help-block" style="display: block; position: static; width: auto; margin-left: 0;">
                The fields below are used to create the message send to Slack.<BR><BR>
                Enter the values for these Slack message fields. Either use direct value,
		a splunk token (i.e. <code style="color:#333">$result.fieldname$</code>) or a field macro (i.e. <code style="color:#333">{fieldname}</code>)
                <BR><BR>For an explanation of these fields, have a look at the
		<a target=_blank href="https://api.slack.com/docs/message-attachments">Slack API message attachments</a>.
            </span>
        </div>

        <label class="control-label" for="slackalert_author_icon">author_icon</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.author_icon" id="slackalert_author_icon" />
        </div>
        <label class="control-label" for="slackalert_author_link">author_link</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.author_link" id="slackalert_author_link" />
            <span class="help-block"></span>
        </div>
        <label class="control-label" for="slackalert_author_name">author_name</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.author_name" id="slackalert_author_name" />
            <span class="help-block"></span>
        </div>
        <label class="control-label" for="slackalert_fallback">fallback</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.fallback" id="slackalert_fallback" />
            <span class="help-block"></span>
        </div>
        <label class="control-label" for="slackalert_footer">footer</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.footer" id="slackalert_footer" />
            <span class="help-block"></span>
        </div>
        <label class="control-label" for="slackalert_footer_icon">footer_icon</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.footer_icon" id="slackalert_footer_icon" />
            <span class="help-block"></span>
        </div>
        <label class="control-label" for="slackalert_icon_emoji">icon_emoji</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.icon_emoji" id="slackalert_icon_emoji" />
            <span class="help-block"></span>
        </div>
        <label class="control-label" for="slackalert_icon_url">icon_url</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.icon_url" id="slackalert_icon_url" />
            <span class="help-block"></span>
        </div>
        <label class="control-label" for="slackalert_image_url">image_url</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.image_url" id="slackalert_image_url" />
            <span class="help-block"></span>
        </div>
        <label class="control-label" for="slackalert_pretext">pretext</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.pretext" id="slackalert_pretext" />
            <span class="help-block"></span>
        </div>
        <label class="control-label" for="slackalert_text">text</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.text" id="slackalert_text" />
            <span class="help-block"></span>
        </div>
        <label class="control-label" for="slackalert_thumb_url">thumb_url</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.thumb_url" id="slackalert_thumb_url" />
            <span class="help-block"></span>
        </div>
        <label class="control-label" for="slackalert_title">title</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.title" id="slackalert_title" />
            <span class="help-block"></span>
        </div>
        <label class="control-label" for="slackalert_title_link">title_link</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.title_link" id="slackalert_title_link" />
            <span class="help-block"></span>
        </div>
        <label class="control-label" for="slackalert_ts">ts</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.ts" id="slackalert_ts" />
            <span class="help-block"></span>
        </div>
        <label class="control-label" for="slackalert_username">username</label>
        <div class="controls">
            <input type="text" name="action.slackalert.param.username" id="slackalert_username" />
            <span class="help-block"></span>
        </div>
    </div>

</form>
